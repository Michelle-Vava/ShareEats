{%  extends 'base_templates/seller_dashboard_base.html' %}
{% load crispy_forms_filters %}
{% block content %}
{% load crispy_forms_tags %}
    <br>
     <h1>Edit Menu</h1>
    <br>
    <div class="card" style="width: 10rem;">
  <img class="card-img-top" src="../static/img/add_item.png" alt="Card image cap">
  <div class="card-body">
<!-- Button trigger modal -->
<button type="button" class="btn btn-warning btn-sm" data-toggle="modal" data-target="#additem">
  Add Food Item
</button>

<!-- Add food Item Modal -->
<div class="modal fade" id="additem" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="alert alert-warning"   role="alert">
  **Please make sure your food item image is in a .png or .jpg format!
</div>
          <form enctype="multipart/form-data"
                class='form-control '
                action="{% url 'add product' %}"
                method="post">
              {% csrf_token %}
              {{ addform | crispy  }}

              <input class="btn btn-warning" type="submit" value="Add">
          </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button>

      </div>

    </div>
  </div>
</div>
  </div>
s    </div>
    <br>
    <div class="container-fluid border">


         {% for item in dishes %}
    <div class="card-deck">
        <div class="card border-primary mb-3" style="max-width: 18rem;">
        <img class="card-img-top" src="{{ item.image.url }}" alt="Card image cap">
        <div class="card-body">
        <h5 class="card-title">{{ item.product }}</h5>
        <p class="card-text">Price : $ {{ item.price }}</p>
       <p class="card-text">Quantity : {{ item.servings }}</p>
       <p class="card-text">Category : {{ item.category }}</p>
      <button type="button" class="btn btn-warning get-food-item" data-toggle="modal" data-productname="{{ item.product }} {{ item.servings }} {{item.price}} {{ item.category }} {{ item.image.url }} {{item.id}}" data-target="#editItem">
  Edit Item
  {% comment %} #<a data-productname="{{ item.product }}" class="btn btn-warning get-food-item" >Edit Item</a> {% endcomment %}
</button>

<!-- Modal -->
<div class="modal fade" id="editItem" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit Menu </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
             <div class="alert alert-warning"   role="alert">
  **Please make sure your food item image is in a .png or .jpg format!
  </div>
     <form enctype="multipart/form-data"
                class='form-control'

                action="{% url 'item editing' %}"
                method="post">
              {% csrf_token %}
              {% comment %} <h2>Edit Details</h2> {% endcomment %}
                    {{ editform.non_field_errors }}
                    <div class="fieldWrapper" id="product">
                        {{ editform.product.errors }}
                        <label for="{{ form.produt.id_for_label }}"></label>
                        {{ editform.product | as_crispy_field   }}
                    </div>
                    <div class="fieldWrapper" id ="servings">
                        {{ editform.servings.errors }}
                        <label for="{{ form.servings.id_for_label }}"></label>
                        {{ editform.servings | as_crispy_field   }}
                    </div>
                    <div class="fieldWrapper" id ="price">
                        {{ editform.price.errors }}
                        <label for="{{ form.price.id_for_label }}"></label>
                        {{ editform.price | as_crispy_field   }}
                    </div>
                    <div class="fieldWrapper" id = "category">
                        {{ editform.category.errors }}
                        <label for="{{ form.category.id_for_label }}"></label>
                        {{ editform.category | as_crispy_field   }}
                    </div>
                     <div class="fieldWrapper" id = "image">
                        {{ editform.image.errors }}
                        <label for="{{ form.image.id_for_label }}"></label>
                        {{ editform.image | as_crispy_field   }}
                    </div>
                    <div class="fieldWrapper" id = "id">
                        {{ editform.id.errors }}
                        <label for="{{ form.image.id_for_label }}"></label>
                        {{ editform.id.as_hidden  }}
                    </div>
                    
              {% comment %} {{ addform | crispy  }} {% endcomment %}

              {% comment %} <input class="btn btn-warning" type="submit" value="Edit Product"> {% endcomment %}
 <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <input type="submit" class="btn btn-warning"</button>
      </div>
          </form>
     
      </div>
    </div>
  </div>
</div>
        {% comment %} <a data-productname="{{ item.product }}" class="btn btn-warning get-food-item" >Edit</a> {% endcomment %}
        {% comment %} <button type="button" location. class="btn btn-warning get-food-item" data-toggle="modal" data-target="#edititem"> {% endcomment %}
 {% comment %} Edit food item {% endcomment %}
</button>
        </div>
    </div>

         {% endfor %}

    </div>
    </div>



<script type="text/javascript" src="../../static/js/editmenu.js "></script>
{% endblock %}
