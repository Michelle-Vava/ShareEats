{%  extends 'base_templates/seller_dashboard_base.html' %}
{% load crispy_forms_filters %}
{% block content %}
{% load crispy_forms_tags %}
    <br>
     <h1>Edit Menu</h1>
    <br>
    <div class="card" style="width: 10rem;">
  <img class="card-img-top" src="../static/img/add_item.png" alt="Card image cap">
  <div class="card-body">
<!-- Button trigger modal -->
<button type="button" class="btn btn-warning btn-sm" data-toggle="modal" data-target="#additem">
  Add Food Item
</button>

<!-- Add food Item Modal -->
<div class="modal fade" id="additem" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="alert alert-warning"   role="alert">
  **Please make sure your food item image is in a .png or .jpg format!
</div>
          <form enctype="multipart/form-data"
                class='form-control '
                action="{% url 'add product' %}"
                method="post">
              {% csrf_token %}
              {{ addform | crispy  }}

              <input class="btn btn-warning" type="submit" value="Add">
          </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button>

      </div>

    </div>
  </div>
</div>
  </div>

    <!-- Edit food Item Modal -->
<div class="modal fade" id="edititem" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form enctype="multipart/form-data"
                class='form-control '
                action="{% url 'item editing' %}"
                method="post">
              {% csrf_token %}
              {{ editingform | crispy  }}

              <input class="btn btn-warning" type="submit" value="Edit Product">

          </form>
          <br>
           <button onclick="location.href='{% url 'delete food' %}'" class="btn btn-warning" >Remove item</button>
      </div>

    </div>
  </div>
</div>

    </div>
    <br>
    <div class="container-fluid border">


         {% for item in dishes %}
    <div class="card-deck">
        <div class="card border-primary mb-3" style="max-width: 18rem;">
        <img class="card-img-top" src="{{ item.image.url }}" alt="Card image cap">
        <div class="card-body">
        <h5 class="card-title">{{ item.product }}</h5>
        <p class="card-text">Price : $ {{ item.price }}</p>
       <p class="card-text">Quantity : {{ item.servings }}</p>
       <p class="card-text">Category : {{ item.category }}</p>
        <a data-productname="{{ item.product }}" class="btn btn-warning get-food-item">Edit</a>
        </div>
    </div>

         {% endfor %}

    </div>
    </div>

<script type="text/javascript" src="../../static/js/editmenu.js "></script>
{% endblock %}

